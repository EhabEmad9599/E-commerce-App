<section class="product-details py-5">
  <div class="container-fluid">
    <!-- Breadcrumb Navigation -->
    <div class="breadcrumb-section mb-4">
      <nav aria-label="breadcrumb">
        <ol class="breadcrumb">
          <li class="breadcrumb-item"><a href="/" class="text-decoration-none">Home</a></li>
          <li class="breadcrumb-item"><a href="#" class="text-decoration-none">{{ProductDetails?.category?.name}}</a></li>
          <li class="breadcrumb-item active" aria-current="page">{{ProductDetails?.title}}</li>
        </ol>
      </nav>
    </div>

    <div class="row g-4 align-items-start">
      <!-- Product Image Section -->
      <div class="col-lg-5 col-md-6">
        <div class="product-image-section">
          <div class="image-gallery">
      <owl-carousel-o [options]="customOptions">

        @for (image of ProductDetails?.images; track $index) {
          <ng-template carouselSlide>
            <img loading="lazy" class="img-fluid w-100 light-img" [src]="image">
          </ng-template>
        }
      </owl-carousel-o>
          </div>

        </div>
      </div>

      <!-- Product Information Section -->
      <div class="col-lg-7 col-md-6">
        <div class="product-info">
          <!-- Category and Brand -->
          <div class="category-brand-section mb-3">
            <span class="category-badge">{{ProductDetails?.category?.name}}</span>
            <span class="brand-badge">{{ProductDetails?.brand?.name}}</span>
          </div>

          <!-- Product Title -->
          <h1 class="product-title mb-3">{{ProductDetails?.title}}</h1>

          <!-- Rating Section -->
          <div class="rating-section mb-4">
            <div class="stars-container mb-2">
              <div class="star-rating">
                @for (i of [1,2,3,4,5]; track i) {
                  @if(i <= ProductDetails?.ratingsAverage!) {
                    <i class="fa-solid fa-star filled-star"></i>
                  } @else {
                    <i class="fa-regular fa-star empty-star"></i>
                  }
                }
              </div>
              <span class="rating-value ms-2">{{ProductDetails?.ratingsAverage}}/5</span>
              <span class="reviews-count ms-2">({{ProductDetails?.ratingsQuantity}} Reviews)</span>
            </div>
            <div class="stock-status">
              @if(ProductDetails?.quantity! > 0) {
                <span class="in-stock"><i class="fa-solid fa-check me-1"></i>In Stock</span>
              } @else {
                <span class="out-of-stock"><i class="fa-solid fa-x me-1"></i>Out of Stock</span>
              }
            </div>
          </div>

          <!-- Price Section -->
          <div class="price-section mb-4">
            <div class="price-container">
              <span class="price">${{ProductDetails?.price}}</span>
              <span class="stock-quantity ms-3">Available: <strong>{{ProductDetails?.quantity}}</strong></span>
            </div>
          </div>

          <hr class="divider">

          <!-- Description -->
          <div class="description-section mb-4">
            <h5 class="section-title">Product Description</h5>
            <p class="description-text">{{ProductDetails?.description}}</p>
          </div>

          <!-- Action Buttons -->
          <div class="action-buttons">
            <button 
              (click)="addToCart(ProductDetails!._id)" 
              class="btn btn-add-to-cart"
              [disabled]="ProductDetails?.quantity! <= 0">
              <i class="fa-solid fa-cart-shopping me-2"></i>
              Add to Cart
            </button>
          </div>

          <!-- Shipping Info -->
          <div class="shipping-info mt-4">
            <div class="info-item">
              <i class="fa-solid fa-truck"></i>
              <span>Free Shipping on orders over $50</span>
            </div>
            <div class="info-item">
              <i class="fa-solid fa-shield"></i>
              <span>Secure checkout & money-back guarantee</span>
            </div>
            <div class="info-item">
              <i class="fa-solid fa-undo"></i>
              <span>Easy 30-day returns</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

